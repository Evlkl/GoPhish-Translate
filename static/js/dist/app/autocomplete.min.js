var TEMPLATE_TAGS = [{
    id: 1,
    name: "RId",
    description: "The unique ID for the recipient."
}, {
    id: 2,
    name: "Ad",
    description: "Alıcının adı."
}, {
    id: 3,
    name: "Soyad",
    description: "Alıcının soyadı."
}, {
    id: 4,
    name: "PosiVəzifətion",
    description: "Alıcının vəzifəsi."
}, {
    id: 5,
    name: "Kimdən",
    description: "E-poçt-lar kimin adı ilə göndərilsin."
}, {
    id: 6,
    name: "TrackingURL",
    description: "Açılan e-poçtları izləmək üçün URL."
}, {
    id: 7,
    name: "Tracker",
    description: "Gizli izləmə şəkli əlavə edən HTML teqi (TrackingURL əvəzinə tövsiyə olunur)."
}, {
    id: 8,
    name: "URL",
    description: "Sənin Phishing səhifən."
}, {
    id: 9,
    name: "BaseURL",
    description: "Əsas URL."
}],
textTestCallback = function(e) {
    return e.collapsed ? CKEDITOR.plugins.textMatch.match(e, matchCallback) : null
},
matchCallback = function(e, t) {
    var i = e.slice(0, t).match(/\{{2}\.?([A-z]|\})*$/);
    return i ? {
        start: i.index,
        end: t
    } : null
},
dataCallback = function(t, e) {
    e(TEMPLATE_TAGS.filter(function(e) {
        return 0 == ("{{." + e.name.toLowerCase() + "}}").indexOf(t.query.toLowerCase())
    }))
},
setupAutocomplete = function(e) {
    e.on("instanceReady", function(e) {
        new CKEDITOR.plugins.autocomplete(e.editor, {
            textTestCallback: textTestCallback,
            dataCallback: dataCallback,
            itemTemplate: '<li data-id="{id}"><div><strong class="item-title">{name}</strong></div><div><i>{description}</i></div></li>',
            outputTemplate: "[[.{name}]]"
        }).getHtmlToInsert = function(e) {
            var t = this.outputTemplate.output(e);
            return t = t.replace("[[", "{{").replace("]]", "}}")
        }
    })
};